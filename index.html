<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Αξιολόγηση PELETIE TRIBE • Βρες το Ιδανικό σου Ταίρι</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.14.1/dist/cdn.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&family=Playfair+Display:ital,wght@0,700;1,900&display=swap');
        
        body { 
            font-family: 'Inter', system-ui, sans-serif; 
            -webkit-tap-highlight-color: transparent;
            background-color: #050505; /* Deep, expensive black */
        }
        .title-font { font-family: 'Playfair Display', serif; }
        
        /* Addictive UI Elements */
        .glass-panel {
            background: rgba(20, 20, 22, 0.7);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(236, 72, 153, 0.15);
        }
        
        .option-card {
            transition: all 0.4s cubic-bezier(0.25, 1, 0.5, 1);
            min-height: 100px;
        }
        .option-card:hover {
            transform: translateY(-6px) scale(1.02);
            box-shadow: 0 20px 40px -15px rgba(219, 39, 119, 0.4);
            border-color: rgba(236, 72, 153, 0.5);
        }
        .option-card.selected {
            border-color: #ec4899;
            background: linear-gradient(135deg, rgba(236, 72, 153, 0.1), rgba(157, 23, 77, 0.3));
            transform: scale(1.04);
            box-shadow: 0 0 25px rgba(236, 72, 153, 0.3);
        }
        
        /* Smooth Progress & Animations */
        .progress-bar { transition: width 0.8s cubic-bezier(0.22, 1, 0.36, 1); }
        .feedback-pop { animation: popIn 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards; }
        
        @keyframes popIn {
            0% { transform: translate(-50%, 40px) scale(0.8); opacity: 0; }
            50% { transform: translate(-50%, -10px) scale(1.05); opacity: 1; }
            100% { transform: translate(-50%, 0) scale(1); opacity: 1; }
        }
        
        .hero-glow { box-shadow: 0 0 100px -20px rgba(236, 72, 153, 0.6); }
        .text-gradient {
            background: linear-gradient(135deg, #f472b6, #db2777, #9d174d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* CTA Pulse */
        @keyframes pulse-ring {
            0% { box-shadow: 0 0 0 0 rgba(236, 72, 153, 0.7); }
            70% { box-shadow: 0 0 0 20px rgba(236, 72, 153, 0); }
            100% { box-shadow: 0 0 0 0 rgba(236, 72, 153, 0); }
        }
        .cta-pulse { animation: pulse-ring 2s infinite; }
        
        @media (max-width: 640px) {
            h1 { font-size: 2.5rem; line-height: 1.1; }
        }
    </style>
</head>
<body class="text-zinc-100 min-h-screen overflow-x-hidden selection:bg-pink-500 selection:text-white" x-data="quizApp()" x-init="init()">
    
    <header class="fixed top-0 left-0 right-0 z-50 glass-panel border-b-0 border-b border-pink-500/20">
        <div class="max-w-3xl mx-auto px-6 py-4 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-gradient-to-br from-pink-500 to-rose-700 rounded-full flex items-center justify-center text-2xl font-black shadow-lg shadow-pink-500/30">P</div>
                <span class="text-2xl font-black tracking-tighter title-font">PELETIE TRIBE</span>
            </div>
            <div class="text-[10px] sm:text-xs uppercase tracking-[0.2em] font-bold text-pink-500">Elite Mastery</div>
        </div>
    </header>

    <div class="max-w-3xl mx-auto pt-28 pb-24 px-5">

        <div x-show="step === 0" x-transition.opacity.duration.500ms class="text-center py-10 md:py-20">
            <div class="inline-flex items-center gap-2 bg-pink-500/10 text-pink-400 px-6 py-2 rounded-full text-xs font-bold mb-8 border border-pink-500/20 hero-glow">
                <i class="fa-solid fa-fire-flame-curved"></i>
                <span x-text="peopleCount.toLocaleString('el-GR')"></span> ασταμάτητοι άνδρες έχουν ήδη μπει στη Tribe
            </div>
            
            <h1 class="text-5xl md:text-7xl font-black tracking-tight title-font leading-none mb-6">
                ΕΧΕΙΣ ΑΥΤΟ ΠΟΥ <br><span class="text-gradient italic">ΑΠΑΙΤΕΙΤΑΙ;</span>
            </h1>
            
            <p class="text-lg md:text-xl text-zinc-400 max-w-md mx-auto mb-12 leading-relaxed">
                Το πιο ωμό και εθιστικό τεστ έλξης που γράφτηκε ποτέ. Δεν χαϊδεύουμε αυτιά. 
                <span class="text-pink-400 font-semibold block mt-2">16 ερωτήσεις. 3 λεπτά. Η αλήθεια σου.</span>
            </p>
            
            <button @click="startQuiz()" 
                    class="group relative w-full max-w-sm mx-auto px-10 py-6 bg-white text-black text-2xl font-black rounded-2xl hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center gap-4 cta-pulse touch-manipulation">
                ΞΕΚΙΝΑ ΤΗ ΔΟΚΙΜΑΣΙΑ
                <i class="fa-solid fa-arrow-right group-hover:translate-x-2 transition-transform"></i>
            </button>
            
            <div class="mt-10 flex items-center justify-center gap-4 text-xs font-medium text-zinc-600 uppercase tracking-wider">
                <span>Ανώνυμο</span>
                <span class="w-1 h-1 rounded-full bg-pink-500"></span>
                <span>Ασταμάτητο</span>
                <span class="w-1 h-1 rounded-full bg-pink-500"></span>
                <span>100% Δωρεάν</span>
            </div>
        </div>

        <div x-show="step === 1" style="display: none;">
            <div class="sticky top-20 z-40 bg-[#050505]/95 backdrop-blur-xl py-4 -mx-5 px-5">
                <div class="flex justify-between items-end mb-2">
                    <div class="text-xs font-bold tracking-widest text-zinc-500 uppercase">
                        Ερώτηση <span class="text-pink-500 text-base" x-text="currentQuestion + 1"></span>/16
                    </div>
                    <div class="text-xs font-bold text-zinc-400" x-text="Math.round(progress)+'%'"></div>
                </div>
                <div class="h-1.5 bg-zinc-900 rounded-full overflow-hidden">
                    <div class="progress-bar h-full bg-gradient-to-r from-pink-600 to-rose-400" 
                         :style="{width: progress + '%'}"></div>
                </div>
            </div>

            <div class="mt-8 glass-panel rounded-3xl p-6 md:p-10">
                <div class="inline-block bg-pink-500/10 text-pink-400 px-3 py-1 rounded-md text-[10px] font-black tracking-widest uppercase mb-6" 
                     x-text="questions[currentQuestion].category"></div>
                
                <h2 class="text-2xl md:text-3xl font-bold leading-snug mb-10 text-white" 
                    x-text="questions[currentQuestion].question"></h2>
                
                <div class="grid gap-3">
                    <template x-for="(opt, i) in questions[currentQuestion].options" :key="i">
                        <button @click="selectAnswer(opt.score, i)"
                                :class="{ 'selected': selectedIndex === i }"
                                class="option-card text-left p-5 md:p-6 rounded-2xl border border-zinc-800 bg-[#0a0a0c] hover:bg-zinc-900/50 flex gap-5 items-center group touch-manipulation">
                            <span class="text-4xl transition-transform duration-300 group-hover:scale-110 shrink-0" x-text="opt.emoji"></span>
                            <span x-text="opt.text" class="text-lg md:text-xl font-medium text-zinc-300 group-hover:text-white transition-colors flex-1"></span>
                        </button>
                    </template>
                </div>
            </div>

            <div x-show="feedback" 
                 class="feedback-pop fixed bottom-10 left-1/2 -translate-x-1/2 bg-white text-black px-8 py-4 rounded-full text-lg font-black shadow-[0_10px_40px_rgba(255,255,255,0.2)] z-50 flex items-center gap-3">
                <i class="fa-solid fa-bolt text-pink-500"></i> Δυνατή επιλογή.
            </div>
        </div>

        <div x-show="step === 2" style="display: none;" class="space-y-12 animate-fade-in pt-8">
            <div class="text-center">
                <div class="inline-flex items-center gap-2 bg-green-500/10 text-green-400 px-5 py-2 rounded-full text-xs font-bold mb-6">
                    <i class="fa-solid fa-check-double"></i> ΑΝΑΛΥΣΗ ΟΛΟΚΛΗΡΩΘΗΚΕ
                </div>
                
                <div class="text-8xl font-black title-font tracking-tighter text-gradient" 
                     x-text="totalScore"></div>
                <div class="text-sm font-bold tracking-widest text-zinc-600 uppercase mt-2">Συνολικο Σκορ (Μαξ 64)</div>
                <div class="mt-6 text-2xl font-black text-white" x-text="scoreTitle"></div>
            </div>

            <div class="glass-panel rounded-3xl p-6 border border-zinc-800">
                <canvas id="radarChart" height="300"></canvas>
            </div>

            <div class="glass-panel rounded-3xl p-8 md:p-12 border border-pink-500/30 relative overflow-hidden">
                <div class="absolute top-0 right-0 w-64 h-64 bg-pink-500/10 blur-[100px] rounded-full"></div>
                
                <div class="text-xs font-black tracking-[0.2em] text-pink-500 mb-2 uppercase">Ο Κυριαρχος Τυπος Σου</div>
                <div class="text-4xl md:text-5xl font-black title-font text-white mb-6" x-text="archetype"></div>
                <div class="text-zinc-300 text-lg leading-relaxed mb-8" x-html="insightText"></div>

                <div class="bg-red-500/10 border border-red-500/20 rounded-2xl p-6 mb-8">
                    <div class="text-xs font-black tracking-widest text-red-400 mb-2 uppercase"><i class="fa-solid fa-triangle-exclamation"></i> Η Αδυναμια σου (Τι σε κραταει πισω)</div>
                    <div class="text-white font-medium" x-text="weaknessText"></div>
                </div>
                
                <div class="mt-8 border-t border-zinc-800 pt-8">
                    <div class="uppercase text-sm font-black tracking-widest text-white mb-6 flex items-center gap-3">
                        <i class="fa-solid fa-crosshairs text-pink-500"></i> ΩΜΕΣ ΣΥΜΒΟΥΛΕΣ ΠΟΥ ΔΟΥΛΕΥΟΥΝ ΓΙΑ ΣΕΝΑ
                    </div>
                    <div class="space-y-5" x-html="datingTips"></div>
                </div>
            </div>

            <div class="bg-gradient-to-br from-pink-600 to-rose-900 rounded-3xl p-10 text-center relative overflow-hidden hero-glow">
                <div class="relative z-10">
                    <div class="text-3xl md:text-4xl font-black text-white mb-4 title-font italic">Τέλος οι δικαιολογίες.</div>
                    <div class="text-lg text-pink-100/90 mb-8 max-w-lg mx-auto font-medium">
                        Εγώ, ο Nikos Peletie, θα είμαι ο προσωπικός σου dating coach. Αντέχεις την αλήθεια ή θα γυρίσεις πίσω στη μετριότητα;
                    </div>
                    
                    <a href="https://www.skool.com/peletietribe" target="_blank"
                       class="block w-full py-6 bg-white hover:bg-zinc-200 text-black text-2xl font-black rounded-2xl transition-all active:scale-95 touch-manipulation shadow-[0_0_40px_rgba(255,255,255,0.3)]">
                        ΜΠΕΣ ΣΤΗΝ PELETIE TRIBE ΤΩΡΑ
                    </a>
                    
                    <div class="mt-5 text-xs font-bold text-pink-200 uppercase tracking-widest">
                        Οι πρωτοι 500 κερδιζουν 30 μερες ΔΩΡΕΑΝ + Direct Coaching
                    </div>
                </div>
            </div>

            <div class="flex flex-col sm:flex-row gap-4">
                <button @click="shareResults()" 
                        class="flex-1 py-5 bg-zinc-900 hover:bg-zinc-800 border border-zinc-800 rounded-2xl text-sm font-bold uppercase tracking-widest transition flex items-center justify-center gap-3 text-white">
                    <i class="fa-solid fa-share-nodes text-pink-500"></i> Μοιρασου το Σκορ Σου
                </button>
                <button @click="restart()" 
                        class="sm:w-1/3 py-5 bg-transparent hover:bg-zinc-900 border border-zinc-800 rounded-2xl text-sm font-bold uppercase tracking-widest transition text-zinc-400 hover:text-white">
                    <i class="fa-solid fa-rotate-right"></i> Ξανακαντο
                </button>
            </div>
        </div>
    </div>

    <footer class="text-center py-10 text-xs font-bold tracking-widest uppercase text-zinc-700">
        © 2026 PELETIE TRIBE • NO EXCUSES
    </footer>

    <script>
        function quizApp() {
            return {
                step: 0,
                currentQuestion: 0,
                answers: [],
                selectedIndex: null,
                feedback: false,
                peopleCount: 0,
                
                // Original Questions - Kept intact per your requirement
                questions: [
                    { category: "Έλξη", question: "Οι περισσότεροι φοβούνται να ξεχωρίζουν γιατί χάνουν το ιδανικό ταίρι. Εσύ πόσο συχνά αγκαλιάζεις αυτή την επικινδυνότητα;", options: [
                        {emoji:"🐑", text:"Ποτέ – προτιμώ την ασφάλεια", score:1},
                        {emoji:"🦊", text:"Μερικές φορές", score:2},
                        {emoji:"🐺", text:"Συχνά", score:3},
                        {emoji:"👑", text:"Πάντα – είμαι μαγνήτης", score:4}
                    ]},
                    { category: "Έλξη", question: "Η κοινωνία ανταμείβει τους μέτριους που μένουν σιωπηλοί. Εσύ πόσο συχνά αρνείσαι να είσαι ένας από αυτούς;", options: [
                        {emoji:"🔇", text:"Πάντα σιωπώ", score:1},
                        {emoji:"📢", text:"Μερικές φορές", score:2},
                        {emoji:"🗣️", text:"Συχνά ξεχωρίζω", score:3},
                        {emoji:"🔥", text:"Πάντα – είμαι η φωνή που μαγνητίζει", score:4}
                    ]},
                    { category: "Έλξη", question: "Οι μέτριοι λένε «αύριο». Εσύ πόσο συχνά λες «τώρα» και γίνεσαι ακαταμάχητος;", options: [
                        {emoji:"⏳", text:"Πάντα αύριο", score:1},
                        {emoji:"🕒", text:"Μερικές φορές", score:2},
                        {emoji:"⚡", text:"Συχνά", score:3},
                        {emoji:"🏆", text:"Πάντα – ορίζω το τώρα", score:4}
                    ]},
                    { category: "Έλξη", question: "Όταν όλοι λένε «δεν γίνεται να βρω το ιδανικό ταίρι», εσύ πόσο συχνά αποδεικνύεις ότι γίνεται;", options: [
                        {emoji:"🚫", text:"Ποτέ", score:1},
                        {emoji:"🤔", text:"Σπάνια", score:2},
                        {emoji:"💪", text:"Συχνά", score:3},
                        {emoji:"🌟", text:"Πάντα – είμαι η απόδειξη", score:4}
                    ]},

                    { category: "Σώμα & Αυτοπεποίθηση", question: "Πόσο συχνά επιδεικνύεις την παρουσία σου με απόλυτη αυτοπεποίθηση;", options: [
                        {emoji:"🙈", text:"Πάντα κρύβομαι", score:1},
                        {emoji:"😌", text:"Μερικές φορές", score:2},
                        {emoji:"😏", text:"Συχνά", score:3},
                        {emoji:"🦍", text:"Πάντα – ο χώρος μου ανήκει", score:4}
                    ]},
                    { category: "Σώμα & Αυτοπεποίθηση", question: "Το σώμα σου είναι το όπλο σου. Πόσο συχνά το φροντίζεις σαν πολεμιστής;", options: [
                        {emoji:"🏚️", text:"Σχεδόν ποτέ", score:1},
                        {emoji:"🏠", text:"Μερικές φορές", score:2},
                        {emoji:"🏛️", text:"Συχνά", score:3},
                        {emoji:"⚔️", text:"Πάντα – δεν υπάρχει ρεπό", score:4}
                    ]},
                    { category: "Σώμα & Αυτοπεποίθηση", question: "Όταν όλοι σταματούν λόγω κούρασης, εσύ...", options: [
                        {emoji:"⛔", text:"Σταματάω κι εγώ", score:1},
                        {emoji:"🚦", text:"Το παλεύω λίγο ακόμα", score:2},
                        {emoji:"🏁", text:"Συνήθως συνεχίζω", score:3},
                        {emoji:"💀", text:"Ακριβώς εκεί ξεκινάω", score:4}
                    ]},
                    { category: "Σώμα & Αυτοπεποίθηση", question: "Η ενέργειά σου είναι η υπογραφή σου. Πόσο θρυλική είναι;", options: [
                        {emoji:"🔋", text:"Χαμηλή μπαταρία", score:1},
                        {emoji:"🔌", text:"Φορτίζω ακόμα", score:2},
                        {emoji:"⚡", text:"Υψηλή", score:3},
                        {emoji:"☢️", text:"Πυρηνική. Τους τυφλώνει.", score:4}
                    ]},

                    { category: "Χάρισμα & Προσέγγιση", question: "Οι περισσότεροι περιμένουν σήματα. Εσύ πόσο συχνά προσεγγίζεις με θάρρος;", options: [
                        {emoji:"😶", text:"Ποτέ", score:1},
                        {emoji:"😊", text:"Μερικές φορές", score:2},
                        {emoji:"😎", text:"Συχνά", score:3},
                        {emoji:"🎯", text:"Πάντα. Εγώ δημιουργώ τη στιγμή.", score:4}
                    ]},
                    { category: "Χάρισμα & Προσέγγιση", question: "Μια απόρριψη είναι το τέλος για τους μέτριους. Για εσένα είναι…", options: [
                        {emoji:"💔", text:"Τραγωδία", score:1},
                        {emoji:"😔", text:"Στεναχώρια", score:2},
                        {emoji:"📈", text:"Μάθημα", score:3},
                        {emoji:"🚀", text:"Επιβεβαίωση ότι δοκιμάζω τα όρια", score:4}
                    ]},
                    { category: "Χάρισμα & Προσέγγιση", question: "Σε μια παρέα, οι περισσότεροι ακολουθούν. Εσύ...", options: [
                        {emoji:"👣", text:"Ακολουθώ σιωπηλά", score:1},
                        {emoji:"👥", text:"Συμμετέχω απλά", score:2},
                        {emoji:"🗣️", text:"Καθοδηγώ συχνά τη συζήτηση", score:3},
                        {emoji:"🦁", text:"Είμαι το κέντρο βάρους του δωματίου", score:4}
                    ]},
                    { category: "Χάρισμα & Προσέγγιση", question: "Το χάρισμά σου είναι όπλο. Πόσο συχνά το χρησιμοποιείς;", options: [
                        {emoji:"🔒", text:"Κλειδωμένο", score:1},
                        {emoji:"🔑", text:"Μερικές φορές", score:2},
                        {emoji:"⚔️", text:"Συχνά", score:3},
                        {emoji:"🪄", text:"Δεν το 'χρησιμοποιώ'. ΕΙΜΑΙ αυτό.", score:4}
                    ]},

                    { category: "Σκοπός & Σχέσεις", question: "Οι περισσότεροι ζουν χωρίς όραμα. Εσύ πόσο ξεκάθαρο σκοπό έχεις στη ζωή σου;", options: [
                        {emoji:"🌫️", text:"Κανέναν", score:1},
                        {emoji:"🌥️", text:"Κάτι ψάχνω", score:2},
                        {emoji:"🌤️", text:"Έχω στόχους", score:3},
                        {emoji:"👁️", text:"Έχω Αυτοκρατορικό Όραμα", score:4}
                    ]},
                    { category: "Σκοπός & Σχέσεις", question: "Στις σχέσεις, εσύ...", options: [
                        {emoji:"🥺", text:"Εξαρτώμαι", score:1},
                        {emoji:"🤝", text:"Συμβιβάζομαι", score:2},
                        {emoji:"📣", text:"Καθοδηγώ", score:3},
                        {emoji:"🦅", text:"Θέτω το 'Frame' (Πλαίσιο)", score:4}
                    ]},
                    { category: "Σκοπός & Σχέσεις", question: "Οι μέτριοι επαναπαύονται όταν βρουν ταίρι. Εσύ...", options: [
                        {emoji:"🛋️", text:"Αράζω στον καναπέ", score:1},
                        {emoji:"⏸️", text:"Ρίχνω ρυθμούς", score:2},
                        {emoji:"🏃", text:"Συνεχίζω τη βελτίωση", score:3},
                        {emoji:"🚀", text:"Ανεβάζω ταχύτητα. Δεν χαλαρώνω ποτέ.", score:4}
                    ]},
                    { category: "Σκοπός & Σχέσεις", question: "Αν αύριο τα έχανες όλα (ταίρι, χρήματα, status), πόσο γρήγορα θα ξαναχτίζεις;", options: [
                        {emoji:"😱", text:"Θα κατέρρεα", score:1},
                        {emoji:"😓", text:"Πολύ δύσκολα", score:2},
                        {emoji:"🏗️", text:"Θα έπαιρνε χρόνο", score:3},
                        {emoji:"🔥", text:"Άμεσα. Εγώ είμαι η πηγή, όχι τα πράγματα.", score:4}
                    ]}
                ],
                categories: [
                    {name: "Έλξη", score: 0},
                    {name: "Σώμα & Αυτοπεποίθηση", score: 0},
                    {name: "Χάρισμα & Προσέγγιση", score: 0},
                    {name: "Σκοπός & Σχέσεις", score: 0}
                ],
                
                totalScore: 0,
                insightText: "",
                weaknessText: "",
                scoreTitle: "",
                archetype: "",
                datingTips: "",
                radarChart: null,

                init() {
                    this.answers = new Array(this.questions.length).fill(0);
                    this.peopleCount = 42890 + Math.floor(Math.random() * 500); // Higher perceived authority
                },

                startQuiz() {
                    this.step = 1;
                    this.currentQuestion = 0;
                    this.selectedIndex = null;
                },

                selectAnswer(score, index) {
                    this.answers[this.currentQuestion] = score;
                    this.selectedIndex = index;
                    
                    this.feedback = true;
                    setTimeout(() => this.feedback = false, 600);

                    if (this.currentQuestion < this.questions.length - 1) {
                        setTimeout(() => this.nextQuestion(), 500);
                    } else {
                        setTimeout(() => {
                            this.calculateResults();
                            this.step = 2;
                            this.renderRadar();
                            this.launchConfetti();
                            window.scrollTo({ top: 0, behavior: 'smooth' });
                        }, 500);
                    }
                },

                nextQuestion() {
                    if (this.currentQuestion < this.questions.length - 1) {
                        this.currentQuestion++;
                        this.selectedIndex = this.answers[this.currentQuestion] ? 
                            this.questions[this.currentQuestion].options.findIndex(o => o.score === this.answers[this.currentQuestion]) : null;
                    }
                },

                get progress() {
                    return Math.round(((this.currentQuestion + (this.selectedIndex !== null ? 1 : 0)) / this.questions.length) * 100);
                },

                calculateResults() {
                    this.totalScore = this.answers.reduce((a, b) => a + b, 0);
                    
                    for (let i = 0; i < this.categories.length; i++) {
                        let sum = 0;
                        for (let j = 0; j < 4; j++) {
                            sum += this.answers[i * 4 + j] || 0;
                        }
                        this.categories[i].score = sum;
                    }

                    // Find Highest (Strength) and Lowest (Weakness)
                    const highestIndex = this.categories.reduce((maxIdx, cat, idx, arr) => cat.score > arr[maxIdx].score ? idx : maxIdx, 0);
                    const lowestIndex = this.categories.reduce((minIdx, cat, idx, arr) => cat.score < arr[minIdx].score ? idx : minIdx, 0);
                    
                    this.archetype = this.getArchetypeName(highestIndex);
                    this.datingTips = this.getDatingTips(highestIndex);
                    
                    const weakCat = this.categories[lowestIndex];
                    this.weaknessText = `Το "${weakCat.name}" σου είναι στο πάτωμα (${weakCat.score}/16). Αυτός είναι ο λόγος που οι γυναίκες χάνουν το ενδιαφέρον τους όταν τα πράγματα σοβαρεύουν. Πρέπει να το φτιάξουμε ΑΜΕΣΑ.`;

                    if (this.totalScore >= 56) {
                        this.scoreTitle = "TOP 1% ΑΣΤΑΜΑΤΗΤΟΣ";
                        this.insightText = "Ανήκεις στην ελίτ. Δεν ψάχνεις γυναίκες, σε ψάχνουν αυτές. Το θέμα σου πλέον δεν είναι η ποσότητα, αλλά το να επιλέξεις το κορυφαίο.";
                    } else if (this.totalScore >= 40) {
                        this.scoreTitle = "ΕΧΕΙΣ ΔΥΝΑΜΙΚΗ (ΑΛΛΑ ΘΕΣ ΔΟΥΛΕΙΑ)";
                        this.insightText = "Είσαι πάνω από τον μέσο όρο. Έχεις πάρει τις νίκες σου, αλλά ξέρεις μέσα σου ότι αφήνεις άπειρα χρήματα και ευκαιρίες στο τραπέζι. Ώρα να τελειοποιήσεις το παιχνίδι σου.";
                    } else {
                        this.scoreTitle = "ΩΡΑ ΝΑ ΞΥΠΝΗΣΕΙΣ";
                        this.insightText = "Η αλήθεια πονάει, αλλά το να σε αγνοούν πονάει περισσότερο. Παίζεις το παιχνίδι λάθος. Το καλό; Όλα διορθώνονται αν έχεις τα κότσια να με ακούσεις.";
                    }
                },

                getArchetypeName(idx) {
                    const names = [
                        "Ο ΨΥΧΡΟΣ ΕΚΤΕΛΕΣΤΗΣ (ΕΛΞΗ)",
                        "Ο ΑΛΦΑ ΑΡΘΟΥΡΟΣ (ΣΩΜΑ/ΠΑΡΟΥΣΙΑ)",
                        "Ο ΔΟΛΟΦΟΝΟΣ ΤΟΥ ΜΥΑΛΟΥ (ΧΑΡΙΣΜΑ)",
                        "Ο ΑΥΤΟΚΡΑΤΟΡΑΣ (ΣΚΟΠΟΣ)"
                    ];
                    return names[idx];
                },

                getDatingTips(idx) {
                    // Expert, Controversial, Functional dating tips (Nikos Peletie tone)
                    const tips = [
                        // Έλξη (Attraction focus)
                        `<div class="space-y-4">
                            <div class="bg-zinc-900/50 p-4 rounded-xl border border-zinc-800"><span class="text-pink-500 font-black block mb-1">ΚΑΝΟΝΑΣ #1: Κόψε τη Λογική</span> Οι γυναίκες δεν ερωτεύονται το πόσο καλό παιδί είσαι. Ερωτεύονται τα <i>συναισθηματικά σκαμπανεβάσματα (spikes)</i> που τους προκαλείς. Γίνε απρόβλεπτος.</div>
                            <div class="bg-zinc-900/50 p-4 rounded-xl border border-zinc-800"><span class="text-pink-500 font-black block mb-1">ΚΑΝΟΝΑΣ #2: Το Δώρο της Απουσίας</span> Αν της απαντάς στο λεπτό, είσαι δεδομένος. Άφησέ την να αναρωτιέται τι κάνεις. Η έλξη χτίζεται στη σιωπή, όχι στα ατελείωτα texts.</div>
                        </div>`,
                        // Σώμα & Αυτοπεποίθηση (Body focus)
                        `<div class="space-y-4">
                            <div class="bg-zinc-900/50 p-4 rounded-xl border border-zinc-800"><span class="text-pink-500 font-black block mb-1">ΚΑΝΟΝΑΣ #1: Πιάσε Χώρο</span> Είσαι θηρίο; Δείξ'το. Άπλωσε τα χέρια σου, πάτα γερά στα πόδια σου. Ποτέ μην μαζεύεις το σώμα σου για να "χωρέσεις" δίπλα της. Κάντην να νιώσει μικρή δίπλα σου.</div>
                            <div class="bg-zinc-900/50 p-4 rounded-xl border border-zinc-800"><span class="text-pink-500 font-black block mb-1">ΚΑΝΟΝΑΣ #2: Μη στηρίζεσαι στους μυς σου</span> Ένας Έλληνας Θεός που κομπιάζει όταν μιλάει, γίνεται αμέσως βαρετός. Χρησιμοποίησε τη σωματική σου επιβολή για να δημιουργήσεις tension, και μετά χτύπα τη διανοητικά.</div>
                        </div>`,
                        // Χάρισμα & Προσέγγιση (Charisma focus)
                        `<div class="space-y-4">
                            <div class="bg-zinc-900/50 p-4 rounded-xl border border-zinc-800"><span class="text-pink-500 font-black block mb-1">ΚΑΝΟΝΑΣ #1: Η Τέχνη του Teasing</span> Σταμάτα τις βαρετές ερωτήσεις συνέντευξης ("από πού είσαι;"). Πείραξέ την. Πες της κάτι αμφιλεγόμενο. Προκάλεσέ την να σου αποδείξει την αξία της.</div>
                            <div class="bg-zinc-900/50 p-4 rounded-xl border border-zinc-800"><span class="text-pink-500 font-black block mb-1">ΚΑΝΟΝΑΣ #2: Κυριάρχησε στη Σιωπή</span> Οι αδύναμοι άντρες πανικοβάλλονται στις παύσεις και λένε βλακείες για να τις γεμίσουν. Κοίταξέ την στα μάτια με ένα μισό χαμόγελο και άστην να "σπάσει" πρώτη τη σιωπή.</div>
                        </div>`,
                        // Σκοπός & Σχέσεις (Purpose focus)
                        `<div class="space-y-4">
                            <div class="bg-zinc-900/50 p-4 rounded-xl border border-zinc-800"><span class="text-pink-500 font-black block mb-1">ΚΑΝΟΝΑΣ #1: Δεν είναι η προτεραιότητά σου</span> Αν η γυναίκα νιώσει ότι είναι ο σκοπός της ζωής σου, θα φύγει. Η αποστολή σου, τα λεφτά σου, ο σκοπός σου είναι πάντα ΠΑΝΩ από αυτήν. Είτε ακολουθεί το όραμά σου, είτε μένει εκτός.</div>
                            <div class="bg-zinc-900/50 p-4 rounded-xl border border-zinc-800"><span class="text-pink-500 font-black block mb-1">ΚΑΝΟΝΑΣ #2: Εσύ θέτεις το Frame</span> Σε μια σχέση, αυτός που έχει τα λιγότερα να χάσει, ελέγχει τη δυναμική. Να είσαι πάντα διατεθειμένος να αποχωρήσεις αν παραβιαστούν τα όριά σου.</div>
                        </div>`
                    ];
                    return tips[idx];
                },

                renderRadar() {
                    setTimeout(() => {
                        const ctx = document.getElementById('radarChart');
                        if (this.radarChart) this.radarChart.destroy();
                        
                        // Dynamic styling config
                        Chart.defaults.color = '#71717a';
                        Chart.defaults.font.family = "'Inter', sans-serif";
                        
                        this.radarChart = new Chart(ctx, {
                            type: 'radar',
                            data: {
                                labels: this.categories.map(c => c.name),
                                datasets: [{
                                    label: 'Η Ισχύς Σου',
                                    data: this.categories.map(c => c.score),
                                    backgroundColor: 'rgba(236, 72, 153, 0.2)',
                                    borderColor: '#ec4899',
                                    borderWidth: 3,
                                    pointBackgroundColor: '#000',
                                    pointBorderColor: '#ec4899',
                                    pointBorderWidth: 3,
                                    pointRadius: 5,
                                    pointHoverRadius: 8
                                }]
                            },
                            options: {
                                plugins: { legend: { display: false } },
                                scales: {
                                    r: {
                                        min: 0, max: 16, 
                                        ticks: { stepSize: 4, display: false },
                                        grid: { color: '#27272a', circular: true },
                                        angleLines: { color: '#27272a' },
                                        pointLabels: { 
                                            color: '#d4d4d8', 
                                            font: { size: 12, weight: '700' }
                                        }
                                    }
                                },
                                animation: { duration: 1500, easing: 'easeOutQuart' }
                            }
                        });
                    }, 100);
                },

                launchConfetti() {
                    // Use standard library for flawless execution across all browsers
                    var duration = 3000;
                    var animationEnd = Date.now() + duration;
                    var defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };

                    function randomInRange(min, max) { return Math.random() * (max - min) + min; }

                    var interval = setInterval(function() {
                        var timeLeft = animationEnd - Date.now();
                        if (timeLeft <= 0) return clearInterval(interval);
                        var particleCount = 50 * (timeLeft / duration);
                        confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 }, colors: ['#ec4899', '#f472b6', '#db2777', '#ffffff'] }));
                        confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 }, colors: ['#ec4899', '#f472b6', '#db2777', '#ffffff'] }));
                    }, 250);
                },
                
                shareResults() {
                    const shareText = `Είμαι "${this.archetype}" με σκορ ${this.totalScore}/64 στο τεστ της PELETIE TRIBE. Εσύ πόσο σκοράρεις; Αντέχεις την αλήθεια;`;
                    
                    if (navigator.share) {
                        navigator.share({
                            title: 'PELETIE TRIBE - Elite Test',
                            text: shareText,
                            url: window.location.href
                        }).catch(console.error);
                    } else {
                        // Fallback copy to clipboard
                        navigator.clipboard.writeText(shareText + " " + window.location.href).then(() => {
                            alert("Το σκορ σου αντιγράφηκε! Στείλτο στους φίλους σου.");
                        });
                    }
                },
                
                restart() {
                    this.step = 0;
                    this.totalScore = 0;
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }
            }
        }
    </script>
</body>
</html>
