<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LUMINA â€¢ What is the Perfect Partner for You?</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.14.1/dist/cdn.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;family=Playfair+Display:wght@700&amp;display=swap');
        body { font-family: 'Inter', system-ui, sans-serif; }
        .title-font { font-family: 'Playfair Display', sans-serif; }
        .option-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .option-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        }
        .option-card.selected {
            border-color: #e11d48;
            background-color: #431407;
            transform: scale(1.02);
        }
        .progress-bar {
            transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .feedback {
            animation: popIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        @keyframes popIn {
            0% { transform: scale(0.8); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
    </style>
</head>
<body class="bg-zinc-950 text-white min-h-screen overflow-x-hidden" x-data="quizApp()" x-init="init()">
    <!-- HEADER -->
    <header class="fixed top-0 left-0 right-0 z-50 bg-zinc-950/95 backdrop-blur-xl border-b border-rose-400/20">
        <div class="max-w-3xl mx-auto px-6 py-5 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-9 h-9 bg-gradient-to-br from-rose-400 to-pink-600 rounded-3xl flex items-center justify-center text-3xl font-black tracking-[-2px]">L</div>
                <span class="text-3xl font-bold tracking-tighter title-font">LUMINA</span>
            </div>
            <div class="text-xs uppercase tracking-[2px] font-semibold text-rose-400">THE PERFECT PARTNER QUIZ</div>
        </div>
    </header>

    <div class="max-w-3xl mx-auto pt-28 pb-24 px-6">

        <!-- START SCREEN -->
        <div x-show="step === 0" class="text-center py-20">
            <div class="inline-flex items-center gap-3 bg-rose-500/10 text-rose-400 px-8 py-3 rounded-3xl text-sm font-medium mb-8">
                <i class="fa-solid fa-heart"></i>
                47,291 people discovered their match this week
            </div>
            
            <h1 class="text-6xl md:text-7xl font-bold tracking-[-3px] title-font leading-none mb-6">
                WHAT IS THE<br>PERFECT PARTNER<br>FOR YOU?
            </h1>
            
            <p class="text-2xl text-zinc-400 max-w-lg mx-auto mb-12 leading-tight">
                20 bold questions.<br>2 minutes.<br><span class="text-rose-400">Brutal honesty. Shocking clarity.</span>
            </p>
            
            <button @click="startQuiz()" 
                    class="group w-full max-w-xs mx-auto px-14 py-8 bg-gradient-to-r from-rose-400 to-pink-500 text-zinc-950 text-3xl font-bold rounded-3xl hover:scale-105 active:scale-95 transition-all flex items-center justify-center gap-4 shadow-2xl shadow-rose-500/30">
                REVEAL MY MATCH
                <span class="text-4xl group-active:rotate-12 transition">â†’</span>
            </button>
            
            <div class="mt-10 text-xs text-zinc-500 flex items-center justify-center gap-6">
                <div>Instant results</div>
                <div class="w-px h-3 bg-zinc-700"></div>
                <div>No sign-up</div>
                <div class="w-px h-3 bg-zinc-700"></div>
                <div>100% free</div>
            </div>
        </div>

        <!-- QUIZ -->
        <div x-show="step === 1">
            <div class="sticky top-20 z-40 bg-zinc-950/90 backdrop-blur-md py-4 -mx-6 px-6 border-b border-zinc-800">
                <div class="flex justify-between items-center text-xs font-medium text-zinc-400">
                    <div>Question <span class="font-mono text-rose-400 text-lg" x-text="currentQuestion + 1"></span>/20</div>
                    <div class="text-emerald-400 font-mono" x-text="Math.round(progress)+'%'"></div>
                </div>
                <div class="h-1 bg-zinc-800 rounded-full mt-3 overflow-hidden">
                    <div class="progress-bar h-1 bg-gradient-to-r from-rose-400 to-pink-500 rounded-full" 
                         :style="{width: progress + '%'}"></div>
                </div>
            </div>

            <div class="mt-10 bg-zinc-900 border border-zinc-800 rounded-3xl p-10">
                <div class="uppercase text-rose-400 text-xs tracking-[2px] font-medium mb-4" x-text="questions[currentQuestion].category"></div>
                
                <h2 class="text-3xl leading-tight font-medium mb-12 text-balance" x-text="questions[currentQuestion].question"></h2>
                
                <div class="grid gap-4">
                    <template x-for="(opt, i) in questions[currentQuestion].options" :key="i">
                        <button @click="selectAnswer(opt.score, i, opt.insight)"
                                :class="{ 'selected': selectedIndex === i }"
                                class="option-card text-left p-8 rounded-3xl border-2 border-transparent bg-zinc-950 hover:border-rose-400/50 flex gap-6 items-start group">
                            <span class="text-6xl transition-all group-hover:scale-110 flex-shrink-0" x-text="opt.emoji"></span>
                            <span x-text="opt.text" class="text-xl leading-tight pt-1 flex-1"></span>
                        </button>
                    </template>
                </div>
            </div>

            <!-- FEEDBACK -->
            <div x-show="feedback" 
                 class="feedback fixed bottom-8 left-1/2 -translate-x-1/2 bg-rose-400 text-zinc-950 px-8 py-5 rounded-3xl text-xl font-semibold shadow-2xl flex items-center gap-3">
                <span x-text="feedbackText"></span>
            </div>
        </div>

        <!-- RESULTS -->
        <div x-show="step === 2" class="space-y-16">
            <div class="text-center pt-8">
                <div id="confetti" class="absolute inset-0 pointer-events-none"></div>
                
                <div class="inline-flex items-center gap-3 bg-emerald-400/10 px-8 py-4 rounded-3xl text-emerald-400 text-sm font-medium mb-6">
                    <i class="fa-solid fa-trophy"></i> YOUR PERFECT PARTNER REVEALED
                </div>
                
                <div class="text-7xl font-black title-font tracking-tighter text-transparent bg-clip-text bg-gradient-to-br from-rose-300 to-pink-400" 
                     x-text="totalScore"></div>
                <div class="text-2xl text-zinc-400 -mt-4">/80</div>
                <div class="mt-3 text-3xl font-medium" x-text="scoreTitle"></div>
            </div>

            <!-- RADAR -->
            <div class="bg-zinc-900 rounded-3xl p-8 border border-zinc-700">
                <canvas id="radarChart" height="340"></canvas>
            </div>

            <!-- BARS -->
            <div class="space-y-8">
                <template x-for="(cat, i) in categories" :key="i">
                    <div class="flex items-center gap-6">
                        <div class="w-40 text-sm font-medium shrink-0" x-text="cat.name"></div>
                        <div class="flex-1 h-3 bg-zinc-800 rounded-full overflow-hidden">
                            <div class="h-full rounded-full transition-all duration-1000" 
                                 :style="{ width: (cat.score / 16 * 100) + '%', background: cat.color }"></div>
                        </div>
                        <div class="font-mono text-lg text-rose-400 w-14 text-right" x-text="cat.score + '/16'"></div>
                    </div>
                </template>
            </div>

            <!-- INSIGHT -->
            <div class="bg-zinc-900 rounded-3xl p-12 border border-rose-400/20">
                <div class="text-4xl font-medium title-font mb-6 leading-none" x-text="archetype"></div>
                <div class="text-zinc-300 leading-relaxed text-[17px] text-balance" x-html="insightText"></div>
                
                <div class="mt-12 pt-8 border-t border-zinc-700 text-sm">
                    <div class="uppercase tracking-widest text-rose-400 mb-2">Dating coach note</div>
                    <div class="text-zinc-400" x-text="weakness"></div>
                </div>
            </div>

            <!-- CTA -->
            <div class="bg-gradient-to-br from-rose-400 to-pink-500 text-zinc-950 rounded-3xl p-12 text-center">
                <div class="text-4xl font-bold mb-4">Ready to meet them?</div>
                <div class="text-xl opacity-90 mb-9">The right partner is already out there. Start living the relationship you just described.</div>
                
                <a href="#" target="_blank"
                   class="block w-full py-8 bg-zinc-950 text-white text-3xl font-bold rounded-3xl hover:bg-black transition-all active:scale-95">
                    FIND YOUR MATCH NOW
                </a>
            </div>

            <div class="flex gap-4">
                <button @click="restart()" 
                        class="flex-1 py-6 border border-white/30 hover:bg-white/5 rounded-3xl text-sm font-medium transition">
                    RETAKE THE QUIZ
                </button>
                <button onclick="shareResults()" 
                        class="flex-1 py-6 border border-white/30 hover:bg-white/5 rounded-3xl text-sm font-medium transition flex items-center justify-center gap-3">
                    <i class="fa-solid fa-share-nodes"></i> SHARE ON STORIES
                </button>
            </div>
        </div>
    </div>

    <footer class="text-center py-12 text-xs text-zinc-500">
        Â© 2026 LUMINA â€¢ Built for those who refuse average love
    </footer>

    <script>
        function quizApp() {
            return {
                step: 0,
                currentQuestion: 0,
                answers: [],
                selectedIndex: null,
                feedback: false,
                feedbackText: "",
                questions: [
                    // 1-4 Romantic Polarity
                    { category: "Romantic Polarity", question: "In your perfect relationship, who should lead the big decisions?", options: [
                        {emoji:"âš–ï¸", text:"Always 50/50 â€” true equals", score:1, insight:"Modern equality feels safe to you."},
                        {emoji:"ðŸŒ€", text:"Mostly equal, occasional lead", score:2, insight:"You like gentle polarity."},
                        {emoji:"ðŸ‘‘", text:"You lead, they support happily", score:3, insight:"You crave clear direction."},
                        {emoji:"ðŸŒ¹", text:"You lead fully, they follow & adore", score:4, insight:"Controversial truth: Deep submission turns you on."}
                    ]},
                    { category: "Romantic Polarity", question: "Your perfect partner should be...", options: [
                        {emoji:"ðŸ›¡ï¸", text:"Strong & independent â€” your equal", score:1, insight:"You want a warrior, not a follower."},
                        {emoji:"ðŸŒ¸", text:"Soft but opinionated", score:2, insight:"Balanced femininity/masculinity."},
                        {emoji:"ðŸ™‡", text:"Supportive & yielding", score:3, insight:"You love when they let you shine."},
                        {emoji:"â¤ï¸â€ðŸ”¥", text:"Fully submissive to your frame", score:4, insight:"You desire worship-level devotion."}
                    ]},
                    { category: "Romantic Polarity", question: "In bed, you want your partner to...", options: [
                        {emoji:"ðŸ¤", text:"Take equal control", score:1, insight:"You enjoy mutual power play."},
                        {emoji:"ðŸ”¥", text:"Switch roles sometimes", score:2, insight:"Variety keeps it exciting."},
                        {emoji:"ðŸ‘‘", text:"Let you lead most of the time", score:3, insight:"You thrive when you direct."},
                        {emoji:"ðŸ”’", text:"Completely surrender to you", score:4, insight:"Total surrender is your ultimate turn-on."}
                    ]},
                    { category: "Romantic Polarity", question: "Gender roles in your ideal relationship should be...", options: [
                        {emoji:"ðŸŒ", text:"Completely modern & fluid", score:1, insight:"You reject old rules."},
                        {emoji:"âš–ï¸", text:"Negotiated & flexible", score:2, insight:"You adapt as needed."},
                        {emoji:"ðŸ ", text:"Traditional â€” you provide, they nurture", score:3, insight:"You want classic polarity."},
                        {emoji:"ðŸ‘‘", text:"Strictly traditional â€” you rule, they obey", score:4, insight:"You want the old ways back."}
                    ]},

                    // 5-8 Primal Attraction
                    { category: "Primal Attraction", question: "Your perfect partnerâ€™s body must be...", options: [
                        {emoji:"ðŸ§˜", text:"Natural & real", score:1, insight:"Looks are secondary."},
                        {emoji:"ðŸ‹ï¸", text:"Fit & healthy", score:2, insight:"You value effort."},
                        {emoji:"ðŸ†", text:"Head-turning athletic", score:3, insight:"You want them to stop traffic."},
                        {emoji:"ðŸ”¥", text:"Sculpted perfection", score:4, insight:"Visuals are non-negotiable."}
                    ]},
                    { category: "Primal Attraction", question: "Height preference for your perfect partner?", options: [
                        {emoji:"ðŸ“", text:"Doesnâ€™t matter", score:1, insight:"Personality > height."},
                        {emoji:"ðŸ§", text:"Slight preference", score:2, insight:"You notice it."},
                        {emoji:"ðŸ‘«", text:"Noticeably shorter/taller", score:3, insight:"You love the contrast."},
                        {emoji:"ðŸ“", text:"Must be much shorter/taller", score:4, insight:"Height is a hard filter."}
                    ]},
                    { category: "Primal Attraction", question: "Sexual chemistry with your perfect partner should feel...", options: [
                        {emoji:"ðŸŒŠ", text:"Comfortable & sweet", score:1, insight:"Safe connection matters most."},
                        {emoji:"âš¡", text:"Strong & frequent", score:2, insight:"Passion is important."},
                        {emoji:"ðŸ”¥", text:"Electric & addictive", score:3, insight:"You crave obsession-level desire."},
                        {emoji:"ðŸŒ‹", text:"Animalistic & consuming", score:4, insight:"Raw lust is your baseline."}
                    ]},
                    { category: "Primal Attraction", question: "Your perfect partner must turn heads when they walk in a room.", options: [
                        {emoji:"ðŸ™ˆ", text:"Not important", score:1, insight:"Inner beauty wins."},
                        {emoji:"ðŸ˜Š", text:"Sometimes", score:2, insight:"Nice bonus."},
                        {emoji:"ðŸ˜Ž", text:"Often", score:3, insight:"You enjoy the status."},
                        {emoji:"ðŸ‘€", text:"Always", score:4, insight:"Trophy partner required."}
                    ]},

                    // 9-12 Sacred Loyalty
                    { category: "Sacred Loyalty", question: "Past partners / body count of your perfect match matters...", options: [
                        {emoji:"ðŸ“–", text:"Not at all", score:1, insight:"Past is past."},
                        {emoji:"ðŸ¤”", text:"A little", score:2, insight:"You prefer low drama."},
                        {emoji:"âš ï¸", text:"Quite a bit", score:3, insight:"You want purity."},
                        {emoji:"ðŸš«", text:"Itâ€™s a dealbreaker", score:4, insight:"You demand low or zero."}
                    ]},
                    { category: "Sacred Loyalty", question: "Your perfect partner should be...", options: [
                        {emoji:"ðŸŒ", text:"Free to flirt", score:1, insight:"You believe in freedom."},
                        {emoji:"ðŸ“±", text:"Mostly exclusive", score:2, insight:"Open-ish works."},
                        {emoji:"ðŸ”", text:"Fully exclusive", score:3, insight:"Monogamy is sacred."},
                        {emoji:"ðŸ›¡ï¸", text:"Possessive & obsessed with you", score:4, insight:"Jealousy = love."}
                    ]},
                    { category: "Sacred Loyalty", question: "They must put you before...", options: [
                        {emoji:"ðŸ§ ", text:"Their career & friends", score:1, insight:"No one is above you."},
                        {emoji:"ðŸ ", text:"Most things", score:2, insight:"Balance matters."},
                        {emoji:"ðŸ‘¨â€ðŸ‘©â€ðŸ‘§", text:"Everyone except family", score:3, insight:"You come first."},
                        {emoji:"â¤ï¸", text:"Absolutely everything", score:4, insight:"You are their entire world."}
                    ]},
                    { category: "Sacred Loyalty", question: "Your perfect partner would never...", options: [
                        {emoji:"ðŸ“µ", text:"Hide their phone", score:1, insight:"Trust is everything."},
                        {emoji:"ðŸš©", text:"Like othersâ€™ photos", score:2, insight:"Light boundaries."},
                        {emoji:"ðŸ”’", text:"Go out without you", score:3, insight:"You want presence."},
                        {emoji:"ðŸš«", text:"Even look at others", score:4, insight:"Total devotion required."}
                    ]},

                    // 13-16 Empire Ambition
                    { category: "Empire Ambition", question: "Your perfect partnerâ€™s career should be...", options: [
                        {emoji:"ðŸ§˜", text:"Whatever makes them happy", score:1, insight:"No pressure."},
                        {emoji:"ðŸ’¼", text:"Stable & respectable", score:2, insight:"Security matters."},
                        {emoji:"ðŸš€", text:"Ambitious & growing", score:3, insight:"You want a power couple."},
                        {emoji:"ðŸ’°", text:"High-status & wealthy", score:4, insight:"They must match your empire."}
                    ]},
                    { category: "Empire Ambition", question: "Financially, your perfect partner should...", options: [
                        {emoji:"ðŸ’¸", text:"Split everything", score:1, insight:"Modern equality."},
                        {emoji:"ðŸ¦", text:"Contribute fairly", score:2, insight:"Team effort."},
                        {emoji:"ðŸ›¡ï¸", text:"Let you provide", score:3, insight:"You love being the provider."},
                        {emoji:"ðŸ‘‘", text:"Be supported by you fully", score:4, insight:"Traditional provider role."}
                    ]},
                    { category: "Empire Ambition", question: "Children & family plans with your perfect partner...", options: [
                        {emoji:"ðŸš«", text:"None ever", score:1, insight:"Child-free life."},
                        {emoji:"ðŸ¤”", text:"Maybe one day", score:2, insight:"Open to discussion."},
                        {emoji:"ðŸ‘¨â€ðŸ‘©â€ðŸ‘§", text:"2â€“3 kids, traditional family", score:3, insight:"You want legacy."},
                        {emoji:"ðŸ¡", text:"Big family, stay-at-home partner", score:4, insight:"Classic family values."}
                    ]},
                    { category: "Empire Ambition", question: "Your perfect partner must support your biggest goals...", options: [
                        {emoji:"ðŸ§ ", text:"With their own dreams", score:1, insight:"Two independent lives."},
                        {emoji:"ðŸ¤", text:"Cheer you on", score:2, insight:"Supportive partner."},
                        {emoji:"ðŸ”¥", text:"Sacrifice for your vision", score:3, insight:"You come first."},
                        {emoji:"ðŸŒ", text:"Build the empire with you", score:4, insight:"True power couple."}
                    ]},

                    // 17-20 Soul Resonance
                    { category: "Soul Resonance", question: "Emotional vulnerability from your perfect partner should be...", options: [
                        {emoji:"ðŸ›¡ï¸", text:"Kept private", score:1, insight:"Strength over softness."},
                        {emoji:"ðŸŒŠ", text:"Balanced", score:2, insight:"Healthy sharing."},
                        {emoji:"ðŸ’¬", text:"Deep & frequent", score:3, insight:"You crave soul talks."},
                        {emoji:"â¤ï¸", text:"Total openness 24/7", score:4, insight:"You want their entire soul."}
                    ]},
                    { category: "Soul Resonance", question: "Your perfect partner should make you feel...", options: [
                        {emoji:"ðŸ§˜", text:"Calm & secure", score:1, insight:"Peace is love."},
                        {emoji:"ðŸ”¥", text:"Excited daily", score:2, insight:"Passion + peace."},
                        {emoji:"ðŸŒŒ", text:"Understood on a soul level", score:3, insight:"True twin-flame energy."},
                        {emoji:"ðŸŒŸ", text:"Like a god/goddess", score:4, insight:"Worship-level connection."}
                    ]},
                    { category: "Soul Resonance", question: "Fights with your perfect partner should end with...", options: [
                        {emoji:"ðŸ—£ï¸", text:"Rational discussion", score:1, insight:"Logic wins."},
                        {emoji:"ðŸ¤", text:"Compromise", score:2, insight:"Healthy resolution."},
                        {emoji:"ðŸ’‹", text:"Make-up sex & apology", score:3, insight:"Passion heals."},
                        {emoji:"ðŸ™‡", text:"Their full submission & your forgiveness", score:4, insight:"You lead, they yield."}
                    ]},
                    { category: "Soul Resonance", question: "Your perfect partner must share your...", options: [
                        {emoji:"ðŸŒ", text:"Political views loosely", score:1, insight:"Diversity is fine."},
                        {emoji:"ðŸ“–", text:"Core values", score:2, insight:"Values alignment."},
                        {emoji:"ðŸ›", text:"Faith & worldview", score:3, insight:"Spiritual match."},
                        {emoji:"ðŸ”¥", text:"Exact same mission in life", score:4, insight:"You need a mirror soul."}
                    ]}
                ],
                categories: [
                    {name: "Romantic Polarity", score: 0, color: "#e11d48"},
                    {name: "Primal Attraction", score: 0, color: "#10b981"},
                    {name: "Sacred Loyalty", score: 0, color: "#8b5cf6"},
                    {name: "Empire Ambition", score: 0, color: "#f59e0b"},
                    {name: "Soul Resonance", score: 0, color: "#06b6d4"}
                ],
                totalScore: 0,
                scoreTitle: "",
                archetype: "",
                insightText: "",
                weakness: "",
                radarChart: null,

                init() {
                    this.answers = new Array(this.questions.length).fill(0);
                },

                startQuiz() {
                    this.step = 1;
                    this.currentQuestion = 0;
                    this.selectedIndex = null;
                },

                selectAnswer(score, index, insight) {
                    this.answers[this.currentQuestion] = score;
                    this.selectedIndex = index;
                    this.feedbackText = insight;
                    this.feedback = true;

                    setTimeout(() => {
                        this.feedback = false;
                        if (this.currentQuestion < this.questions.length - 1) {
                            this.currentQuestion++;
                            this.selectedIndex = null;
                        } else {
                            this.calculateResults();
                            this.step = 2;
                            this.renderRadar();
                            this.launchConfetti();
                        }
                    }, 1100);
                },

                get progress() {
                    return Math.round(((this.currentQuestion + (this.selectedIndex !== null ? 1 : 0)) / this.questions.length) * 100);
                },

                calculateResults() {
                    this.totalScore = this.answers.reduce((a, b) => a + b, 0);
                    
                    // Calculate category scores
                    for (let i = 0; i < 5; i++) {
                        let sum = 0;
                        for (let j = 0; j < 4; j++) {
                            sum += this.answers[i * 4 + j] || 0;
                        }
                        this.categories[i].score = sum;
                    }

                    // Archetype from highest category
                    const highest = [...this.categories].sort((a, b) => b.score - a.score)[0];
                    const archetypeMap = {
                        "Romantic Polarity": "The Polarized Leader",
                        "Primal Attraction": "The Primal Magnet",
                        "Sacred Loyalty": "The Devoted Guardian",
                        "Empire Ambition": "The Empire Builder",
                        "Soul Resonance": "The Soul Twin"
                    };
                    this.archetype = "Your perfect partner is the " + archetypeMap[highest.name];

                    // Score title
                    if (this.totalScore >= 68) {
                        this.scoreTitle = "SOULMATE LEVEL UNLOCKED";
                    } else if (this.totalScore >= 52) {
                        this.scoreTitle = "HIGH-VOLTAGE MATCH";
                    } else if (this.totalScore >= 36) {
                        this.scoreTitle = "STRONG POTENTIAL";
                    } else {
                        this.scoreTitle = "YOUR STANDARDS ARE EVOLVING";
                    }

                    // Insight text (hyper-controversial + insightful)
                    this.insightText = `You crave a partner who ${highest.score >= 13 ? 'fully submits to your frame and worships your leadership' : 'matches your energy while respecting your vision'}. 
                    High scores in ${highest.name.toLowerCase()} mean you reject average relationships. You want polarity, obsession, and alignment that most people are too scared to admit they desire.`;

                    // Weakness
                    const lowest = [...this.categories].sort((a, b) => a.score - b.score)[0];
                    this.weakness = `You scored lowest in ${lowest.name}. This might mean you're open to more balance â€” or avoiding your deepest desires.`;

                    if (this.totalScore < 40) {
                        this.insightText += "<br><br>As a dating coach Iâ€™ll say it straight: low scores often hide fear of real polarity. Time to raise your standards.";
                    }
                },

                renderRadar() {
                    setTimeout(() => {
                        const ctx = document.getElementById('radarChart');
                        if (this.radarChart) this.radarChart.destroy();
                        this.radarChart = new Chart(ctx, {
                            type: 'radar',
                            data: {
                                labels: this.categories.map(c => c.name),
                                datasets: [{
                                    label: 'Your Desires',
                                    data: this.categories.map(c => c.score),
                                    backgroundColor: 'rgba(225, 29, 72, 0.15)',
                                    borderColor: '#e11d48',
                                    borderWidth: 3,
                                    pointBackgroundColor: '#fff',
                                    pointBorderColor: '#e11d48',
                                    pointRadius: 5
                                }]
                            },
                            options: {
                                plugins: { legend: { display: false } },
                                scales: {
                                    r: {
                                        min: 0, max: 16,
                                        ticks: { stepSize: 4, color: '#52525b', font: { size: 11 } },
                                        grid: { color: '#27272a' },
                                        angleLines: { color: '#27272a' },
                                        pointLabels: { color: '#a3a3a3', font: { size: 13, weight: '600' } }
                                    }
                                }
                            }
                        });
                    }, 100);
                },

                launchConfetti() {
                    // Same high-quality confetti as original (kept for engagement)
                    const canvas = document.createElement('canvas');
                    canvas.style.position = 'fixed';
                    canvas.style.top = '0';
                    canvas.style.left = '0';
                    canvas.style.width = '100%';
                    canvas.style.height = '100%';
                    canvas.style.pointerEvents = 'none';
                    canvas.style.zIndex = '9999';
                    document.body.appendChild(canvas);
                    const ctx = canvas.getContext('2d');
                    canvas.width = window.innerWidth;
                    canvas.height = window.innerHeight;
                    const confetti = [];
                    const colors = ['#e11d48', '#10b981', '#8b5cf6', '#f59e0b', '#06b6d4'];
                    class Particle {
                        constructor() {
                            this.x = Math.random() * canvas.width;
                            this.y = Math.random() * canvas.height - canvas.height;
                            this.size = Math.random() * 12 + 8;
                            this.speed = Math.random() * 6 + 4;
                            this.angle = Math.random() * 360;
                            this.color = colors[Math.floor(Math.random()*colors.length)];
                            this.rotationSpeed = Math.random() * 0.4 - 0.2;
                        }
                        update() { this.y += this.speed; this.angle += this.rotationSpeed; }
                        draw() {
                            ctx.save();
                            ctx.translate(this.x, this.y);
                            ctx.rotate(this.angle * Math.PI / 180);
                            ctx.fillStyle = this.color;
                            ctx.fillRect(-this.size/2, -this.size/2, this.size, this.size);
                            ctx.restore();
                        }
                    }
                    for (let i = 0; i < 280; i++) confetti.push(new Particle());
                    let animation = setInterval(() => {
                        ctx.clearRect(0, 0, canvas.width, canvas.height);
                        confetti.forEach((p, i) => {
                            p.update();
                            p.draw();
                            if (p.y > canvas.height) confetti.splice(i, 1);
                        });
                        if (confetti.length === 0) {
                            clearInterval(animation);
                            canvas.remove();
                        }
                    }, 16);
                },

                restart() {
                    this.step = 0;
                    this.answers = new Array(this.questions.length).fill(0);
                    this.categories.forEach(c => c.score = 0);
                    if (this.radarChart) this.radarChart.destroy();
                }
            }
        }

        function shareResults() {
            const scoreEl = document.querySelector('[x-text="totalScore"]');
            const score = scoreEl ? scoreEl.textContent : '80';
            const archetypeEl = document.querySelector('[x-text="archetype"]');
            const archetype = archetypeEl ? archetypeEl.textContent : 'Soulmate';
            const text = `I just discovered my perfect partner is the ${archetype} ðŸ”¥ Scored ${score}/80 on the LUMINA quiz. My standards are officially dangerous. Whatâ€™s yours? https://luminaquiz.com`;
            navigator.clipboard.writeText(text).then(() => {
                const btn = document.querySelector('button[onclick="shareResults()"]');
                const original = btn.innerHTML;
                btn.innerHTML = 'âœ… COPIED FOR STORIES!';
                setTimeout(() => btn.innerHTML = original, 2200);
            });
        }

        console.log('%cLUMINA Perfect Partner Quiz loaded â€” ready for viral shares ðŸ”¥', 'color:#e11d48; font-size:14px');
    </script>
</body>
</html>
